(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chats"],{1462:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"transition-fade",appear:""}},[s("div",{staticClass:"spinner",class:t.classObject},[s("div",{staticClass:"spinner__bounce spinner__bounce--1"}),s("div",{staticClass:"spinner__bounce spinner__bounce--2"}),s("div",{staticClass:"spinner__bounce spinner__bounce--3"})])])},i=[];s("2532");const n={BLUE:"blue",WHITE:"white",GREY_4:"grey-4"};var r={name:"spinner",props:{color:{type:String,default:"blue",validator:t=>Object.values(n).includes(t)}},computed:{classObject(){return{["spinner--"+this.color]:!0}}}},o=r,c=(s("d17c"),s("7e66"),s("2877")),l=Object(c["a"])(o,a,i,!1,null,null,null);e["a"]=l.exports},2532:function(t,e,s){"use strict";var a=s("23e7"),i=s("5a34"),n=s("1d80"),r=s("ab13");a({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(n(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},3488:function(t,e,s){"use strict";var a=s("dc0c"),i=s.n(a);i.a},"44e7":function(t,e,s){var a=s("861d"),i=s("c6b6"),n=s("b622"),r=n("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==i(t))}},"45dc":function(t,e,s){var a=s("533c");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("664567d3",a,!0,{sourceMap:!1,shadowMode:!1})},"533c":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".aside-menu-chat-item__header{display:flex;align-items:center}.aside-menu-chat-item__subject{flex-basis:0;flex-grow:1;max-width:100%;font-size:14px;font-weight:700;line-height:20px;color:#35383d}.aside-menu-chat-item__subject--one-line{display:-webkit-box;max-height:20px;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:1}.aside-menu-chat-item__date{flex:0 0 auto;width:auto;margin-left:8px;font-size:10px;line-height:14px;color:#b7c0c8}.aside-menu-chat-item__text{font-size:13px;line-height:18px;color:#7d8790}.aside-menu-chat-item__text--two-lines{display:-webkit-box;max-height:36px;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2}",""]),t.exports=e},"5a34":function(t,e,s){var a=s("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5c1f":function(t,e,s){"use strict";var a=s("a567"),i=s.n(a);i.a},"7e66":function(t,e,s){"use strict";var a=s("e2f6"),i=s.n(a);i.a},"940a":function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".chats-list__item{display:block;padding:21px 23px;text-decoration:none;border-top:1px solid #e9edf2;border-left:2px solid transparent;transition:all .4s}.chats-list__item:last-child{border-bottom:1px solid #e9edf2}.chats-list__item:hover{background-color:#fff}.chats-list__item.router-link-active{cursor:default;background-color:#fff;border-left-color:#398bff}",""]),t.exports=e},9424:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".spinner{width:70px;text-align:center}.spinner--white{color:#fff}.spinner--blue{color:#398bff}.spinner--grey-4{color:#b7c0c8}.spinner__bounce{display:inline-block;width:12px;height:12px;background-color:currentColor;border-radius:100%;animation:sk-bouncedelay 1s ease-in-out infinite both}.spinner__bounce+.spinner__bounce{margin-left:4px}.spinner__bounce--1{animation-delay:-.24s}.spinner__bounce--2{animation-delay:-.12s}@keyframes sk-bouncedelay{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}",""]),t.exports=e},"9abc":function(t,e,s){var a=s("dfe1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("041d22df",a,!0,{sourceMap:!1,shadowMode:!1})},a1d5:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"view-chats-list"},[s("div",{staticClass:"view-chats-list__title"},[s("span",{staticClass:"view-chats-list__title-text",domProps:{textContent:t._s("Сообщения")}}),s("transition",{attrs:{name:"transition-fade",appear:""}},[t.countUnreadMessages?s("span",{key:t.countUnreadMessages,staticClass:"view-chats-list__title-counter",domProps:{textContent:t._s(t.countUnreadMessages)}}):t._e()])],1),t.isLoadingChats?s("spinner",{staticClass:"view-chats-list__spinner",attrs:{color:"grey-4"}}):t._e(),s("div",{staticClass:"view-chats-list__list app-custom-scroll"},[s("transition",{attrs:{name:"transition-fade",appear:""}},[t.chatList?s("aisde-menu-chat-list",{attrs:{list:t.chatList}}):t._e()],1)],1)],1)},i=[],n=s("5530"),r=s("ac0b"),o=s("1462"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"chats-list"},[t._l(t.list,(function(e){return[s("router-link",{key:e.id,staticClass:"chats-list__item",attrs:{to:t.getRouteToMesages(e)}},[s("chats-item",t._b({},"chats-item",e,!1))],1)]}))],2)},l=[],d=s("17d9"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"aside-menu-chat-item"},[s("header",{staticClass:"aside-menu-chat-item__header"},[s("span",{staticClass:"aside-menu-chat-item__subject aside-menu-chat-item__subject--one-line",domProps:{textContent:t._s(t.subject)}}),s("span",{staticClass:"aside-menu-chat-item__date",domProps:{textContent:t._s(t.date)}})]),s("main",{staticClass:"aside-menu-chat-item__main"},[s("span",{staticClass:"aside-menu-chat-item__text aside-menu-chat-item__text--two-lines",domProps:{textContent:t._s(t.last_part.text)}})])])},p=[],h=s("c1df"),f=s.n(h);const _="D MMMM YYYY";var m={name:"aside-menu-chat-list-item",props:{created:{type:String,required:!0},id:{type:Number,required:!0},subject:{type:String,required:!0},last_part:{type:Object,required:!0}},computed:{date(){return f()(this.created).format(_)}}},b=m,v=(s("da82"),s("2877")),x=Object(v["a"])(b,u,p,!1,null,null,null),g=x.exports,w={name:"chats-list",components:{ChatsItem:g},props:{list:{type:Array,required:!0}},methods:{getRouteToMesages(t){return{name:d["a"].LAYOUT,params:{chat_id:t.id}}}}},C=w,y=(s("3488"),Object(v["a"])(C,c,l,!1,null,null,null)),M=y.exports,k={name:"view-chats-list",components:{Spinner:o["a"],AisdeMenuChatList:M},data:()=>({isLoadingChats:!0}),computed:Object(n["a"])({},r["a"].mapState({chatList:"list",countUnreadMessages:"countUnreadMessages"})),created(){this.onGetAllChats(),this.getCountUnreadMessages()},methods:Object(n["a"])({},r["a"].mapActions({getAllChats:"getAll",getCountUnreadMessages:"getCountUnreadMessages"}),{async onGetAllChats(){this.isLoadingChats=!0;try{await this.getAllChats()}catch(t){}this.isLoadingChats=!1}})},j=k,O=(s("d17c"),s("5c1f"),Object(v["a"])(j,a,i,!1,null,null,null));e["default"]=O.exports},a567:function(t,e,s){var a=s("d701");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("197f9718",a,!0,{sourceMap:!1,shadowMode:!1})},ab13:function(t,e,s){var a=s("b622"),i=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[i]=!1,"/./"[t](e)}catch(a){}}return!1}},d17c:function(t,e,s){"use strict";var a=s("9abc"),i=s.n(a);i.a},d701:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".view-chats-list{position:relative;height:100vh}.view-chats-list__title{height:70px;padding:24px 20px}.view-chats-list__title-text{font-size:14px;line-height:20px;color:#656b77}.view-chats-list__title-counter{margin-left:10px;font-weight:700;color:#d2d8de}.view-chats-list__spinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.view-chats-list__list{max-height:calc(100% - 70px);overflow-y:auto}",""]),t.exports=e},da82:function(t,e,s){"use strict";var a=s("45dc"),i=s.n(a);i.a},dc0c:function(t,e,s){var a=s("940a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("3ad89c1f",a,!0,{sourceMap:!1,shadowMode:!1})},dfe1:function(t,e,s){var a=s("24fb");e=a(!1),e.push([t.i,".transition-fade-enter-active,.transition-fade-leave-active{transition:opacity .4s}.transition-fade-enter,.transition-fade-leave-to{opacity:0}",""]),t.exports=e},e2f6:function(t,e,s){var a=s("9424");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=s("499e").default;i("f6e3aac8",a,!0,{sourceMap:!1,shadowMode:!1})}}]);